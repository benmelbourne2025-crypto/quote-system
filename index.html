<tr v-for="(item, iIndex) in section.items" :key="iIndex" class="group hover:bg-slate-50/50 transition-colors">
    <td class="px-8 py-6">
        <div class="flex flex-col">
            <input 
                v-model="item.name" 
                @input="handleItemInput(sIndex, iIndex)"
                @focus="showDatabase(item)" 
                class="w-full font-bold text-slate-800 text-base outline-none bg-transparent placeholder:text-slate-300" 
                placeholder="Click to enter item or search database...">
            
            <div class="flex items-center mt-2 no-print bg-slate-100/50 w-fit px-2 py-1 rounded text-blue-500 text-[10px]">
                <i class="fas fa-link mr-2"></i>
                <input v-model="item.fileLink" class="w-64 outline-none bg-transparent font-medium" placeholder="OneDrive or Reference Link...">
            </div>

            <div class="attachment-grid">
                <div v-for="(img, imgIdx) in item.images" :key="imgIdx" class="thumb-box shadow-sm">
                    <img :src="img">
                    <div @click="removeImage(item, imgIdx)" class="thumb-del no-print"><i class="fas fa-times"></i></div>
                </div>
                <div class="thumb-box flex items-center justify-center border-dashed border-2 cursor-pointer no-print hover:border-blue-400 text-slate-300" @click="$refs['file'+sIndex+iIndex][0].click()">
                    <i class="fas fa-plus text-xs"></i>
                    <input :ref="'file'+sIndex+iIndex" type="file" class="hidden" multiple @change="uploadImages($event, item)">
                </div>
            </div>
        </div>
    </td>
    
    <td class="px-2 py-6 text-center">
        <input type="number" v-model.number="item.qty" class="w-16 bg-white border border-slate-200 py-2 rounded-xl text-center font-bold text-sm outline-none shadow-sm focus:border-blue-400">
    </td>
    <td class="px-2 py-6 text-right">
        <div class="inline-flex items-center bg-white border border-slate-200 rounded-xl px-3 py-2 shadow-sm focus-within:border-blue-400">
            <span class="text-slate-300 text-[10px] mr-1">$</span>
            <input type="number" v-model.number="item.price" class="w-20 text-right outline-none font-bold text-slate-600 text-sm" step="0.01">
        </div>
    </td>
    <td class="px-8 py-6 text-right">
        <div class="flex items-center justify-end group/btn">
            <span class="font-black text-slate-900 text-lg mr-4">${{ (item.qty * item.price).toFixed(2) }}</span>
            <button v-if="section.items.length > 1" @click="removeItem(sIndex, iIndex)" 
                class="no-print w-6 h-6 flex items-center justify-center rounded-full bg-slate-100 text-slate-400 hover:bg-red-500 hover:text-white opacity-0 group-hover:opacity-100 transition-all shadow-sm">
                <i class="fas fa-times text-[10px]"></i>
            </button>
        </div>
    </td>
</tr>
